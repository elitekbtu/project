import{j as e}from"./ui-Cqf_O7uz.js";import{r as t,f as j,L as v}from"./router-YsGj19cs.js";import{u as N}from"./index-DUoZO1f1.js";import{B as g}from"./button-D4DJKXVl.js";import{I as m}from"./input-CPWPjeQo.js";import{C as b,a as y,b as w,c as C,d as L}from"./card-UwrtftrB.js";import{A as E,I,a as S,G as A}from"./react-icons.esm-TehCGOF8.js";import"./vendor-BtP0CW_r.js";import"./index-BwobEAja.js";import"./utils-CytzSlOG.js";const J=()=>{const[r,u]=t.useState(""),[l,x]=t.useState(""),[i,c]=t.useState(!1),{login:p,error:o,clearError:n}=N(),h=j(),[d,s]=t.useState(void 0),f=async a=>{if(a.preventDefault(),n(),s(void 0),!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)){s("Некорректный email");return}if(l.length<8){s("Пароль должен быть не менее 8 символов");return}c(!0);try{await p(r,l),h("/home")}catch{}finally{c(!1)}};return e.jsx("div",{className:"container mx-auto flex min-h-[calc(100vh-4rem)] items-center justify-center px-4",children:e.jsx("div",{className:"w-full max-w-md",children:e.jsxs(b,{className:"border-0 shadow-lg",children:[e.jsxs(y,{className:"space-y-1 text-center",children:[e.jsx(w,{className:"font-display text-2xl",children:"Добро пожаловать"}),e.jsx(C,{children:"Войдите в свой аккаунт, чтобы продолжить покупки"})]}),e.jsxs(L,{className:"space-y-4",children:[e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsx("div",{className:"space-y-2",children:e.jsx(m,{id:"email",type:"email",placeholder:"Ваш email",value:r,onChange:a=>{u(a.target.value),s(void 0)},required:!0,className:"h-11"})}),e.jsx("div",{className:"space-y-2",children:e.jsx(m,{id:"password",type:"password",placeholder:"Пароль",value:l,onChange:a=>{x(a.target.value),s(void 0)},required:!0,className:"h-11"})}),e.jsx(g,{type:"submit",className:"w-full h-11",disabled:i,children:i?"Вход...":"Войти"}),(d||o)&&e.jsxs(E,{variant:"default",className:"bg-blue-50 border-blue-200",children:[e.jsx(I,{className:"h-4 w-4 text-blue-600"}),e.jsx(S,{className:"text-blue-800",children:d||o})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("span",{className:"w-full border-t"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"или"})})]}),e.jsx(A,{}),e.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["Нет аккаунта?"," ",e.jsx(v,{to:"/register",className:"font-medium text-primary hover:underline",onClick:()=>n(),children:"Зарегистрируйтесь"})]})]})]})})})};export{J as default};
