import{j as e}from"./ui-Cqf_O7uz.js";import{r as n,L as S}from"./router-YsGj19cs.js";import{s as C}from"./shops-5Csvbe0B.js";import{B as m}from"./button-D4DJKXVl.js";import{I as k}from"./input-CPWPjeQo.js";import{C as d,d as x}from"./card-UwrtftrB.js";import{B as L}from"./badge-DZ0IvmWb.js";import{S as l}from"./skeleton-DgET6UQR.js";import{W as _}from"./index-DUoZO1f1.js";import{m as r}from"./proxy-kgKBpva2.js";import{S as h}from"./search-DxfJQDsN.js";import{c as R}from"./createLucideIcon-BcwDLXBm.js";import{P as p}from"./package-Mme0kKEa.js";import{U as u}from"./user-BuBPZYTe.js";import{S as M}from"./store-CkQQwr-5.js";import{C as T}from"./calendar-CHXi5zfj.js";import{A as B}from"./arrow-right-ovKko4mr.js";import"./vendor-BtP0CW_r.js";import"./index-BwobEAja.js";import"./utils-CytzSlOG.js";/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j=R("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),q=()=>{const[o,f]=n.useState([]),[g,c]=n.useState(!0),[i,v]=n.useState(""),N=async a=>{const s=await C.getShops();return a&&a.trim()?s.filter(t=>t.name.toLowerCase().includes(a.toLowerCase())||t.moderator_name.toLowerCase().includes(a.toLowerCase())):s};n.useEffect(()=>{(async()=>{c(!0);try{const s=await N(i);f(s)}catch(s){console.error("Error fetching shops:",s)}finally{c(!1)}})()},[i]);const y=a=>{a.preventDefault()},w={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05}}},b={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};return g?e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx(l,{className:"h-9 w-48 mb-4"}),e.jsx(l,{className:"h-5 w-96"})]}),e.jsx("div",{className:"mb-8",children:e.jsx(l,{className:"h-10 w-full max-w-md"})}),e.jsx("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:Array.from({length:6}).map((a,s)=>e.jsxs(d,{className:"overflow-hidden",children:[e.jsx("div",{className:"aspect-[4/3] animate-pulse bg-muted"}),e.jsx(x,{className:"p-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-5 w-2/3 animate-pulse rounded bg-muted"}),e.jsx("div",{className:"h-4 w-1/2 animate-pulse rounded bg-muted"}),e.jsx("div",{className:"h-4 w-1/3 animate-pulse rounded bg-muted"})]})})]},s))})]}):e.jsxs(e.Fragment,{children:[e.jsxs(_,{children:[e.jsx("title",{children:"Магазины — TRC"}),e.jsx("meta",{name:"description",content:"Список магазинов и модераторов на платформе TRC. Одежда и образы от разных продавцов."}),e.jsx("meta",{name:"keywords",content:"магазины, модераторы, продавцы, одежда, TRC"}),e.jsx("meta",{property:"og:title",content:"Магазины — TRC"}),e.jsx("meta",{property:"og:description",content:"Список магазинов и модераторов на платформе TRC."})]}),e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-8",children:[e.jsx("h1",{className:"mb-4 font-display text-3xl font-bold tracking-tight",children:"Магазины"}),e.jsx("p",{className:"text-muted-foreground",children:"Откройте для себя уникальные коллекции от наших модераторов"})]}),e.jsx(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"mb-8",children:e.jsxs("form",{onSubmit:y,className:"flex w-full max-w-md items-center gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(h,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),e.jsx(k,{placeholder:"Поиск магазинов...",value:i,onChange:a=>v(a.target.value),className:"pl-10"})]}),e.jsx(m,{type:"submit",size:"icon",children:e.jsx(h,{className:"h-4 w-4"})})]})}),o.length>0?e.jsx(r.div,{variants:w,initial:"hidden",animate:"visible",className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:o.map(a=>e.jsx(r.div,{variants:b,children:e.jsx(d,{className:"group overflow-hidden transition-all hover:shadow-lg border-0 shadow-sm",children:e.jsxs(S,{to:`/shops/${a.moderator_id}/items`,children:[e.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden",children:[a.avatar?e.jsx("img",{src:a.avatar.startsWith("/")?`${window.location.origin}${a.avatar}`:a.avatar,alt:a.name,className:"h-full w-full object-cover transition-transform duration-500 group-hover:scale-105",onError:s=>{var t;s.currentTarget.style.display="none",(t=s.currentTarget.nextElementSibling)==null||t.classList.remove("hidden")}}):null,e.jsx("div",{className:`flex h-full w-full items-center justify-center bg-gradient-to-br from-primary/20 to-primary/40 ${a.avatar?"hidden":""}`,children:e.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-full bg-gradient-to-br from-primary to-primary/80 text-white shadow-lg",children:e.jsx("span",{className:"text-2xl font-bold",children:a.moderator_name.charAt(0).toUpperCase()})})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 transition-opacity group-hover:opacity-100",children:e.jsxs("div",{className:"absolute bottom-4 left-4 right-4 text-white",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(j,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:a.name})]}),e.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(p,{className:"h-3 w-3"}),e.jsxs("span",{children:[a.items_count," товаров"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(u,{className:"h-3 w-3"}),e.jsx("span",{children:a.moderator_name})]})]})]})}),e.jsx("div",{className:"absolute top-3 left-3",children:e.jsxs(L,{variant:"secondary",className:"bg-white/90 text-foreground hover:bg-white",children:[e.jsx(M,{className:"mr-1 h-3 w-3"}),"Магазин"]})})]}),e.jsxs(x,{className:"p-4",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("h3",{className:"font-medium leading-tight text-lg mb-1",title:a.name,children:a.name}),e.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[e.jsx(u,{className:"h-3 w-3"}),a.moderator_name]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(p,{className:"h-3 w-3"}),e.jsxs("span",{children:[a.items_count," товаров"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(T,{className:"h-3 w-3"}),e.jsx("span",{children:new Date(a.created_at).toLocaleDateString("ru-RU",{month:"short",year:"numeric"})})]})]}),e.jsx(m,{size:"sm",variant:"ghost",className:"opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(B,{className:"h-4 w-4"})})]})]})]})})},a.id))}):e.jsxs(r.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6},className:"text-center py-16",children:[e.jsx("div",{className:"mx-auto mb-6 flex h-24 w-24 items-center justify-center rounded-full bg-muted",children:e.jsx(j,{className:"h-12 w-12 text-muted-foreground"})}),e.jsx("h3",{className:"mb-2 text-xl font-semibold",children:"Магазины не найдены"}),e.jsx("p",{className:"text-muted-foreground max-w-md mx-auto",children:i?"Попробуйте изменить поисковый запрос":"В данный момент нет доступных магазинов"})]})]})]})};export{q as default};
