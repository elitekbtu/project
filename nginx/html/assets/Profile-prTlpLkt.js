import{j as e}from"./ui-DmaJfU4R.js";import{r as i,L as v}from"./router-YsGj19cs.js";import{g as w}from"./profile-DMRfs6Pi.js";import{A as N,a as b,b as y}from"./avatar-CBOADE_9.js";import{C as d,a as n,b as o,c,d as m}from"./card-hWJdfOrY.js";import{B as p}from"./badge-CMy5sMNA.js";import{B as C}from"./button-CEL2MslA.js";import{u as R}from"./use-toast-BimaNeed.js";import{L as _}from"./LoadingSpinner-B2cRs91n.js";import{W as z}from"./index-dk87i_EB.js";import{m as B}from"./proxy-OF6tZF67.js";import"./vendor-BtP0CW_r.js";import"./utils-CytzSlOG.js";import"./index-BwobEAja.js";const U=()=>{const[s,f]=i.useState(null),[g,j]=i.useState(!0),{toast:x}=R(),l=a=>a?Array.isArray(a)?a:a.split(",").map(r=>r.trim()).filter(Boolean):[];if(i.useEffect(()=>{(async()=>{try{const r=await w();f(r)}catch{x({variant:"destructive",title:"Ошибка",description:"Не удалось загрузить профиль"})}finally{j(!1)}})()},[x]),g)return e.jsx("div",{className:"flex h-64 items-center justify-center",children:e.jsx(_,{})});if(!s)return null;const h=`${s.first_name||""} ${s.last_name||""}`.trim()||"Без имени",u=((s.first_name||s.last_name||s.email)[0]||"?").toUpperCase(),t=(a,r)=>e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:a}),e.jsx("p",{className:"text-lg font-semibold",children:r||e.jsx("span",{className:"text-muted-foreground",children:"—"})})]});return e.jsxs(e.Fragment,{children:[e.jsxs(z,{children:[e.jsx("title",{children:"Профиль — TRC"}),e.jsx("meta",{name:"description",content:"Ваш личный профиль на платформе TRC. Управление аккаунтом, настройками и историей покупок."}),e.jsx("meta",{name:"keywords",content:"профиль, аккаунт, настройки, TRC"}),e.jsx("meta",{property:"og:title",content:"Профиль — TRC"}),e.jsx("meta",{property:"og:description",content:"Ваш личный профиль на платформе TRC."})]}),e.jsxs(B.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"container mx-auto max-w-4xl px-4 py-8 space-y-8",children:[e.jsxs("div",{className:"bg-background rounded-xl shadow-sm overflow-hidden border",children:[e.jsx("div",{className:"h-32 w-full bg-muted"}),e.jsxs("div",{className:"px-6 pb-10 -mt-12 flex flex-col sm:flex-row sm:items-end sm:justify-between gap-4",children:[e.jsxs("div",{className:"flex items-end gap-4",children:[e.jsxs(N,{className:"h-32 w-32 border-4 border-background",children:[e.jsx(b,{src:s.avatar||void 0,alt:h}),e.jsx(y,{className:"bg-primary text-primary-foreground text-2xl font-bold",children:u})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:h}),e.jsx("p",{className:"text-muted-foreground",children:s.email})]})]}),e.jsx(C,{asChild:!0,variant:"outline",children:e.jsx(v,{to:"/settings",children:"Редактировать профиль"})})]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(d,{children:[e.jsxs(n,{children:[e.jsxs(o,{className:"text-xl font-semibold flex items-center gap-2",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-primary",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),"Контактная информация"]}),e.jsx(c,{children:"Основные сведения"})]}),e.jsxs(m,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-muted",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-primary",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M7 2a2 2 0 00-2 2v12a2 2 0 002 2h6a2 2 0 002-2V4a2 2 0 00-2-2H7zm3 14a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})})}),t("Телефон",s.phone_number)]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-muted",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-primary",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})})}),t("Дата рождения",s.date_of_birth?new Date(s.date_of_birth).toLocaleDateString("ru-RU"):void 0)]})]})]}),e.jsxs(d,{children:[e.jsxs(n,{children:[e.jsxs(o,{className:"text-xl font-semibold flex items-center gap-2",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-primary",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"})}),"Параметры тела"]}),e.jsx(c,{children:"Сантиметры / килограммы"})]}),e.jsx(m,{children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("div",{className:"p-4 bg-muted rounded-lg",children:t("Рост",s.height?`${s.height} см`:void 0)}),e.jsx("div",{className:"p-4 bg-muted rounded-lg",children:t("Вес",s.weight?`${s.weight} кг`:void 0)}),e.jsx("div",{className:"p-4 bg-muted rounded-lg",children:t("Грудь",s.chest?`${s.chest} см`:void 0)}),e.jsx("div",{className:"p-4 bg-muted rounded-lg",children:t("Талия",s.waist?`${s.waist} см`:void 0)}),e.jsx("div",{className:"p-4 bg-muted rounded-lg",children:t("Бедра",s.hips?`${s.hips} см`:void 0)})]})})]}),e.jsxs(d,{className:"md:col-span-2",children:[e.jsxs(n,{children:[e.jsxs(o,{className:"text-xl font-semibold flex items-center gap-2",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-primary",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"})}),"Предпочтения"]}),e.jsx(c,{children:"Ваш стиль и бренды"})]}),e.jsxs(m,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-3",children:"Любимые цвета"}),l(s.favorite_colors).length?e.jsx("div",{className:"flex flex-wrap gap-2",children:l(s.favorite_colors).map(a=>e.jsx(p,{className:"px-3 py-1.5 capitalize",style:{backgroundColor:a,color:"#fff"},children:a},a))}):e.jsx("p",{className:"text-muted-foreground",children:"Не указаны"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-3",children:"Любимые бренды"}),l(s.favorite_brands).length?e.jsx("div",{className:"flex flex-wrap gap-2",children:l(s.favorite_brands).map(a=>e.jsx(p,{variant:"secondary",className:"px-3 py-1.5 capitalize",children:a},a))}):e.jsx("p",{className:"text-muted-foreground",children:"Не указаны"})]})]})]})]})]})]})};export{U as default};
