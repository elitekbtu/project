import{j as e}from"./ui-DmaJfU4R.js";import{r,f as g,L as N}from"./router-YsGj19cs.js";import{u as y}from"./index-Czdh4XVO.js";import{B as b}from"./button-CEL2MslA.js";import{I as i}from"./input-DSjIL0vM.js";import{C as w,a as C,b as S,c as E,d as I}from"./card-hWJdfOrY.js";import{A as L,I as A,a as P,G as R}from"./react-icons.esm-C50x8Ays.js";import"./vendor-BtP0CW_r.js";import"./index-BwobEAja.js";import"./utils-CytzSlOG.js";const K=()=>{const[l,x]=r.useState(""),[t,p]=r.useState(""),[o,h]=r.useState(""),[c,n]=r.useState(!1),{register:f,error:d,clearError:m}=y(),j=g(),[u,s]=r.useState(void 0),v=async a=>{if(a.preventDefault(),m(),s(void 0),!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l)){s("Некорректный email");return}if(t.length<8){s("Пароль должен быть не менее 8 символов");return}if(t!==o){s("Пароли не совпадают");return}n(!0);try{await f(l,t),j("/home")}catch{}finally{n(!1)}};return e.jsx("div",{className:"container mx-auto flex min-h-[calc(100vh-4rem)] items-center justify-center px-4",children:e.jsx("div",{className:"w-full max-w-md",children:e.jsxs(w,{className:"border-0 shadow-lg",children:[e.jsxs(C,{className:"space-y-1 text-center",children:[e.jsx(S,{className:"font-display text-2xl",children:"Создать аккаунт"}),e.jsx(E,{children:"Присоединяйтесь к нам и откройте мир стильной одежды"})]}),e.jsxs(I,{className:"space-y-4",children:[e.jsxs("form",{onSubmit:v,className:"space-y-4",children:[e.jsx("div",{className:"space-y-2",children:e.jsx(i,{id:"email",type:"email",placeholder:"Ваш email",value:l,onChange:a=>{x(a.target.value),s(void 0)},required:!0,className:"h-11"})}),e.jsx("div",{className:"space-y-2",children:e.jsx(i,{id:"password",type:"password",placeholder:"Пароль",value:t,onChange:a=>{p(a.target.value),s(void 0)},required:!0,className:"h-11"})}),e.jsx("div",{className:"space-y-2",children:e.jsx(i,{id:"confirmPassword",type:"password",placeholder:"Повторите пароль",value:o,onChange:a=>{h(a.target.value),s(void 0)},required:!0,className:"h-11"})}),e.jsx(b,{type:"submit",className:"w-full h-11",disabled:c,children:c?"Создание аккаунта...":"Создать аккаунт"}),(u||d)&&e.jsxs(L,{variant:"default",className:"bg-blue-50 border-blue-200",children:[e.jsx(A,{className:"h-4 w-4 text-blue-600"}),e.jsx(P,{className:"text-blue-800",children:u||d})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("span",{className:"w-full border-t"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"или"})})]}),e.jsx(R,{}),e.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["Уже есть аккаунт?"," ",e.jsx(N,{to:"/login",className:"font-medium text-primary hover:underline",onClick:()=>m(),children:"Войти"})]})]})]})})})};export{K as default};
