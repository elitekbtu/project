import{j as e}from"./ui-DmaJfU4R.js";import{u as c,r as a,N as l}from"./router-YsGj19cs.js";import{u as d}from"./index-Czdh4XVO.js";import{B as u}from"./button-CEL2MslA.js";import{u as x}from"./use-toast-BimaNeed.js";import{L as f}from"./loader-circle-yzSCNo-f.js";import{C as p}from"./circle-alert-B1ct56S2.js";import"./vendor-BtP0CW_r.js";import"./index-BwobEAja.js";import"./utils-CytzSlOG.js";import"./createLucideIcon-BcwDLXBm.js";const L=({children:o})=>{const m=c(),{isAdmin:s,loading:t}=d(),[n,r]=a.useState(!1),{toast:i}=x();return a.useEffect(()=>{!t&&!s&&(r(!0),i({title:"Доступ запрещен",description:"Для доступа к этой странице требуются права администратора",variant:"destructive"}))},[s,t,i]),t?e.jsx("div",{className:"flex h-screen items-center justify-center",children:e.jsx(f,{className:"h-12 w-12 animate-spin"})}):s?o:e.jsxs(e.Fragment,{children:[e.jsx(l,{to:"/home",state:{from:m},replace:!0}),n&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-background/90 backdrop-blur-sm",children:e.jsx("div",{className:"mx-4 w-full max-w-md rounded-lg border bg-card p-6 shadow-lg",children:e.jsxs("div",{className:"flex flex-col items-center gap-4 text-center",children:[e.jsx(p,{className:"h-12 w-12 text-destructive"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold",children:"Доступ ограничен"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Эта страница доступна только администраторам системы. Обратитесь к системному администратору для получения доступа."})]}),e.jsx(u,{size:"sm",onClick:()=>r(!1),className:"mt-4",children:"Понятно"})]})})})]})};export{L as default};
